# なぜ今さらTcl?

Tcl を学ぶ理由は、Tcl がシェル系の言語の中では（書き方は多少冗長ですが）比較的堅牢なプログラムを書きやすいから、です。付録に [bashとの比較](./comparison_with_bash.md) を挙げました。

## もう少し詳しく

Tcl がメジャーな言語でないことは大前提です。
2020-06 の [TIOBE index](https://www.tiobe.com/tiobe-index/) における
言語の人気トップ5 は C, Java, Python, C++, C# だそうです。JavaScripot が 7位。
[別の記事](https://www.cleveroad.com/blog/programming-languages-ranking)での
トップ5 は Python, Java, JavaScript, C#, PHP.

では、一つのお仕事を成し遂げるにあたり、使う言語は一つで良いのか？
例えば Python や Java, C++ だけで仕事を書き上げるのか？というと、
少なからぬケースで、一番外側をシェル系の言語で書くことがあるようです。
例えば linux の firefox や google-chrome, libreoffice の本体は
ネィティブバイナリーですが、それらの起動コマンドが `/bin/sh` 
で書かれていることはよく知られています。
そこでクロスプラットフォームな、より優れた言語である python 等の言語を
使わないのは、何故でしょうか？

私の解釈では、そうする理由は、大量の文字列定数を扱う時には
シェル系の言語のほうが楽だから、ではないかと思います。

ファイル名やディレクトリ名、データベースへの接続文字列、
クラウドサービスのプロジェクト名やサービスアカウント名、APIキー…
Python や Java などの普通の言語では、文字列定数は全て `"..."` のように引用符で表記する
必要があります。書くことが面倒という面もありますし、ハードコーディングを避けたい、
オプションとしてプログラムの外から渡せるようにしたい、という欲求もあります。

それをどこから渡すか。一つには設定ファイルを使う方法があります。
ですが、yaml や ini などの設定ファイルは if や変数、ループは使えません。
プログラムが必要とする文字列定数が一定量を超すと、設定ファイル方式には限界が来ます。
そこでシェル系の言語が導入される、という事情があるように思います。

シェル系の場合、そのシェルのメタ文字でない文字列は、
引用符なしでそのまま表記することが可能です。
また、シェル系の言語はファイル名の操作と、外部プロセスのパイプラインを手短に書ける、
という強みもあります。

そういったシェル系言語として現代で最も使われるのは bash ですが、
初心者が bash で堅牢なプログラムを書くのは決して簡単なことではないように思います。
それに対し Tcl は例外処理の仕組みが整っているので、比較的初心者に優しい言語です。
Unit Test の仕組みも標準添付です。

それが、私が今さら Tcl をお勧めする理由です。

