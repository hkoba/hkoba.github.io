<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, user-scalable=yes">
<style>
  #clock {
      font-size: 3em;
  }
  #month, #date {
      font-size: 2em;
  }
  #wday {
      font-size: 8em;
  }
  #ampm {
      font-size: 2em;
  }
  #hm {
      font-size: 4em;
  }
</style>
</head>
<body>
<div id="clock">
<span id="month">6</span>
/ <span id="date" style="">20</span>
<span id="wday">火</span>
<br>
<span id="ampm">PM</span>
<span id="hm">6:25</span>
</div>

<script>
  'use strict';
  function updateCalendar() {
    var now = new Date
    var monthItem = document.getElementById('month')
    monthItem.innerText = 1 + now.getMonth()
    var dateItem = document.getElementById('date')
    dateItem.innerText = now.getDate()
    var wdayItem = document.getElementById('wday')
    wdayItem.innerText = ['日','月','火','水','木','金','土'][now.getDay()]

    var ampm_hm = ampm_and_hm(now)
    var ampmItem = document.getElementById('ampm')
    ampmItem.innerText = ampm_hm.ampm
    ampmItem.setAttribute('class', ampm_hm.ampm)
    var hmItem = document.getElementById('hm')
    hmItem.innerText = ampm_hm.hm
  }
  function ampm_and_hm(now) {
    var hours = now.getHours()
    var isPM = hours >= 12
    var ampm = ['AM', 'PM'][isPM ? 1 : 0]
    var hm = (isPM ? hours - 12 : hours) + ':' + pad(now.getMinutes(), 2)
    return {ampm: ampm, hm: hm}
  }
  // https://stackoverflow.com/questions/2998784/how-to-output-numbers-with-leading-zeros-in-javascript
  function pad(num, size) {
    num = num.toString();
    while (num.length < size) num = "0" + num;
    return num;
  }

  updateCalendar()
  window.setInterval(updateCalendar, 1000)
</script>
</body>
</html>
